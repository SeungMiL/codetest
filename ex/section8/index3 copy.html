<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>선택 정렬</title>
</head>
<body>
    <div class="box">HA</div>
    <div class="box">SA</div>
    <div class="box">GA</div>
    <div class="box">JA</div>
    <div class="box">PA</div>
    <textarea class="aaa" cols="30" rows="10"></textarea>

    <style>
        .box{width:10%; text-align: center; border:1px solid #000;}
        .box + .box {border-top: none;}
        .aaa{margin-top: 20px;}
    </style>
    <script>

        function dailyNote() {
            let date = new Date();
            let day = date.toLocaleDateString().slice(2);
            let textArea = document.querySelector('.aaa');
            let boxs = document.querySelectorAll('.box');
            let context = '';
            let b = '';
            let template = `${day} 일일보고 송부건\n\n${day} 일일보고 송부드립니다. 감사합니다.\n\n금일\n1.페이지작업\n\n익일\n1.페이지작업`

            let handleClick = (e) => {
                console.log('a')
                if(!context.includes(e.target.innerText)) {
                    context += e.target.innerText + '\n';
                    textArea.textContent = `${day} 일일보고 송부건\n\n${day} 일일보고 송부드립니다. 감사합니다.\n\n금일\n1.페이지작업\n${context}\n\n익일\n1.페이지작업`;
                }
            }



            let handleInput = (e) => {
                let handleClick2 = (event) => {
                    console.log(e, event)
                };


                boxs.forEach(x => {
                    x.removeEventListener('click', handleClick)
                });
                
                boxs.forEach(x => {
                    x.addEventListener('click', handleClick2)
                });
            };

            boxs.forEach(x => {
                x.addEventListener('click', handleClick)
            })

            textArea.addEventListener('input', handleInput)
            
            textArea.textContent = template;
        }

        dailyNote();

    </script>
</body>
</html>